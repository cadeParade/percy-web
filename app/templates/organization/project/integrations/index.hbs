
<section class="container-xl pt-4">
  {{#unless project.isEnabled}}
    <div class="Alert Alert--warning mt-2">
      <strong>This project is archived.</strong>
    </div>
  {{/unless}}
  {{#if project.isEnabled}}

    {{#if project.isDemo}}
      <div class="bg-blue-100 p-2 border border-gray-100 justify-start items-center sticky pin-t z-10 flex rounded border border-blue-500 mb-3">
        <div class="mr-3">{{inline-svg 'build-info-icon'}}</div>

        <div>This is the integrations page for a <strong>demo project</strong>. The demo settings are not editable here, but <strong>{{#link-to 'organizations.organization.projects.new' project.organization.slug}} create your own project {{/link-to}}</strong> to start customizing your Percy experience.
        </div>
      </div>
    {{/if}}

    <div class="bg-white rounded shadow-1 p-2 mb-2">
      <h2 class="text-xl font-semibold mb-sm">Environment variables for CI</h2>
      <p class="text-gray-400 mb-2">See the {{#link-to "docs" class="font-semibold"}}docs{{/link-to}} for how to set up client authentication for your app.</p>
      <div class="p-2 bg-gray-000 rounded border">
        {{projects/env-vars project=project}}
        <div class="rounded bg-yellow-000 border border-yellow-100 p-2">
          <strong>Note:</strong> <code>PERCY_TOKEN</code> is a project-specific, write-only API key that only has access to create builds, snapshots, and upload resources to this project. It should be kept secret.
        </div>
      </div>
    </div>

    <div class="bg-white rounded shadow-1 p-2 mb-2">
      <h2 class="text-xl font-semibold mb-sm">Link a repository</h2>
      {{projects/repo-integrator project=project}}
      {{#if (eq project.diffBase "manual")}}
        <h2 class="text-xl font-semibold mb-1 mt-3">Diff base config</h2>
        <div class="Alert Alert--warning">
          <strong>Deprecated:</strong> Manual diff base mode is deprecated and may be removed in the future. Switching to Automatic diff base is encouraged, and cannot be undone.
        </div>
        {{projects/diff-base-settings project=project}}
      {{/if}}
    </div>

    {{projects/webhook-config-list
      webhookConfigs=webhookConfigs
      deleteWebhookConfig=(route-action "deleteWebhookConfig")
      isDisabled=project.isDemo
    }}

    <div class="bg-white rounded shadow-1 border-t p-2 mb-2" data-test-slack-info>
      <div class="flex justify-between items-center mb-1">
        <div class="flex items-center">
          {{inline-svg "slack-icon" class="mr-1 mb-1 h-9 w-9"}}
          <h2 class="text-xl font-semibold mb-1">Slack integration</h2>
        </div>
      </div>
      <p class='label-body'>
        The Percy Slack integration helps you keep your team updated about visual changes in your app.<br>
        Configure your Slack integration in your {{#link-to 'organizations.organization.integrations' project.organization.slug data-test-slack-organization-integrations-link}}organization integration settings.{{/link-to}}
      </p>
    </div>
  {{/if}}
</section>
