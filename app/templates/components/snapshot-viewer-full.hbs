{{#unless isBuildApprovable}}
  <PublicProjectNotice />
{{/unless}}

<SnapshotViewerHeader
  @fullscreen={{true}}
  @snapshot={{snapshot}}
  @snapshotSelectedWidth={{snapshotSelectedWidth}}
  @selectedComparison={{selectedComparison}}
  @toggleViewMode={{action closeSnapshotFullModal}}
  @updateSelectedWidth={{action "updateSelectedWidth"}}
  @toggleCollaborationPanel={{action "toggleCollaborationPanel"}}
  @updateComparisonMode={{updateComparisonMode}}
  @comparisonMode={{comparisonMode}}
  @createReview={{action createReview}}
  @activeBrowser={{activeBrowser}}
  @updateActiveBrowser={{updateActiveBrowser}}
  @isBuildApprovable={{isBuildApprovable}}
  @updateSnapshotId={{updateSnapshotId}}
  @openCommentThreads={{openCommentThreads}}
/>

<div class="flex flex-col flex-col-reverse lg:flex-row bg-primary">
  {{#if selectedComparison}}
    <ComparisonViewerFull
      @comparison={{selectedComparison}}
      @comparisonMode={{comparisonMode}}
      @cycleComparisonMode={{action "cycleComparisonMode"}}
      @data-test-SnapshotViewerFull-comparison-viewer={{true}}
      @class={{unless isBuildApprovable "pb-9"}}
    />
    {{#if isCommentPanelShowing}}
      <Collaboration::CollaborationPanel
        @commentThreads={{commentThreads}}
        @showCollaborationPanel={{isShowingCollaborationPanel}}
        @createCommentThread={{createCommentThread}}
        @createComment={{createComment}}
        @closeCommentThread={{closeCommentThread}}
        @isCommentingAllowed={{isBuildApprovable}}
        @snapshot={{snapshot}}
      />
    {{/if}}
  {{else}}
    <div class="SnapshotViewerFull-noComparison">
      <div>
        {{fa-icon "remove" class="LargeXIcon"}}
        No snapshot taken at {{snapshotSelectedWidth}}px.
      </div>
    </div>
  {{/if}}
</div>
