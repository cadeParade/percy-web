<ReSizable
  class="snapshot-name-list-sidebar {{unless this.isSnapshotListVisible 'hidden'}}" id="snapshot-list-sidebar"
  @width={{this.sidebarWidth}}
  @minWidth="180"
  @maxWidth="480"
  @directions={{array 'right'}}
  @onResize={{action "onResize"}}
  @onResizeStop={{action "onResizeStop"}}
>
  <div class="py-3 mb-3 leading-none bg-primary sticky top-0 z-1 border-b {{if this.isCompactSidebar 'px-2' 'px-3'}}">
    <div class="text-lg text-secondary mb-1">
      Build <span class="font-mono font-normal tracking-sm text-primary mr-1">{{this.build.buildNumber}}</span>
    </div>

    <div class="text-lg mb-sm">
      <span class="font-semibold">{{this.build.totalSnapshotsUnreviewed}}</span> {{pluralize this.build.totalSnapshotsUnreviewed "unreviewed change" without-count=true}}
    </div>
    <div class="mb-3">
      <span class="text-primary font-semibold">{{this.build.totalSnapshots}}</span> {{pluralize this.build.totalSnapshots "total snapshot" without-count=true}}
    </div>

    {{!-- <Build2::BuildApprovalButton @build={{this.build}} /> --}}

    <div class="flex justify-between">
      <button type="button" class="percy-btn btn-square">
        <ThemeSvg @svg="filter" />
      </button>

      <button type="button" class="btn-icon-only opacity-25 hover:opacity-100 cursor-pointer" {{action this.toggleSearchInput}}>
        <ThemeSvg @svg="search-icon" />
      </button>
    </div>

    {{#if this.isSearchVisible}}
      <div class="relative mb-2 mt-1">
        <Input
          @type="text"
          @value={{this.searchTerm}}
          @key-up={{action this.updateSearchTerm}}
          placeholder="Search snapshots"
          class="bg-code w-full rounded h-10 m-0 pl-1-1/2 pr-5 focus:outline-none"
        />
        <button type="button" class="btn-icon-only absolute hover:opacity-100 {{if (is-empty this.searchTerm) 'opacity-0 pointer-events-none' 'opacity-25'}}" style="top: 5px; right: 8px;" {{action this.clearSearchTerm}}>
          <ThemeSvg @svg="clear-search"/>
        </button>
      </div>
    {{/if}}
  </div>

  <Build2::SnapshotNameList
    @snapshots={{this.snapshots}}
    @build={{this.buildModel}}
    @searchTerm={{this.searchTerm}}
    @isCompactSidebar={{this.isCompactSidebar}}
  />
</ReSizable>
