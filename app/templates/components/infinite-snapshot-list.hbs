Infinite snapshot list
page = {{this.page}}
{{#each (range 0 this.page true) as |pageToLoad|}}
  <LoadSnapshots
    @build={{build}}
    @orderItems={{this.orderItems}}
    @page={{pageToLoad}}
    as |blocks|
  >
    {{#each blocks as |block|}}
      {{#if (is-item-array block)}}
        <SnapshotGroup
          @build={{this.build}}
          @snapshots={{block}}
          @allDiffsShown={{this.allDiffsShown}}
          @activeSnapshotBlockId={{this.activeSnapshotBlockId}}
          @shouldDeferRendering={{this.shouldDeferRendering}}
          @createReview={{this.createReview}}
          @updateActiveSnapshotBlockId={{action "noop"}}
          @activeBrowser={{this.activeBrowser}}
          @updateActiveBrowser={{this.updateActiveBrowser}}
          @isBuildApprovable={{this.isBuildApprovable}}
          @createCommentThread={{this.createCommentThread}}
          @createComment={{this.createComment}}
          @closeCommentThread={{this.closeCommentThread}}
          @index={{index}}
        />
      {{else}}
        <SnapshotViewer
          @class="data-test-snapshot-viewer"
          @build={{this.build}}
          @snapshot={{block}}
          @allDiffsShown={{this.allDiffsShown}}
          @activeSnapshotBlockId={{this.activeSnapshotBlockId}}
          @shouldDeferRendering={{this.shouldDeferRendering}}
          @createReview={{this.createReview}}
          @updateActiveSnapshotBlockId={{action "noop"}}
          @activeBrowser={{this.activeBrowser}}
          @updateActiveBrowser={{this.updateActiveBrowser}}
          @isBuildApprovable={{this.isBuildApprovable}}
          @createCommentThread={{this.createCommentThread}}
          @createComment={{this.createComment}}
          @closeCommentThread={{this.closeCommentThread}}
          @index={{index}}
        />
      {{/if}}
    {{/each}}
  </LoadSnapshots>
{{/each}}

<div {{in-viewport onEnter=(action (mut this.page) (inc 1 this.page))}}></div>
<div style="height: 100px;"></div>
