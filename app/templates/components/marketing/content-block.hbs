<section class="border-b border-purple-300 pt-8 pb-4 md:py-16 {{this.block.classes}}">
  <div class="w-90vw max-w-lg mx-auto">
    <div class="md:flex items-center {{if this.block.isImageRightAligned "flex-row-reverse"}} {{if this.block.isImageCentered "flex-col"}}">
      {{#if this.block.isImagePresent}}
        <div class="flex-1 text-center">
          <ContentfulImage @file={{this.block.mainImage.file}} />
        </div>
      {{/if}}
      <div class="flex-1 mb-6 md:mb-0">
        {{#if this.block.superheader}}
          <div class="text-center content-block-superheader">
            <h6 class="uppercase inline-block py-sm mb-2 text-sm font-bold text-gray-300 tracking-wide border-b">
              {{this.block.superheader}}
            </h6>
          </div>
        {{/if}}

        {{#if this.block.header}}
          <h3 class="text-center text-2xl md:text-3xl lg:text-4xl font-bold leading-none content-block-header">
            {{this.block.header}}
          </h3>
        {{/if}}

        {{#if this.block.subheader}}
          <div class="content-block-subheader text-secondary text-center mb-2 pt-2">
            <MarkdownToHtml @markdown={{this.block.subheader}} />
          </div>
        {{/if}}

        {{#if this.block.bodyText}}
          <div class="content-block-bodytext">
            <MarkdownToHtml @markdown={{this.block.bodyText}} />
          </div>
        {{/if}}

        {{#if (and this.block.isFullCTAPresent (is-empty this.block.supportingTextSections))}}
          <div class="content-block-cta text-center mb-4 {{if this.block.isImagePresent "lg:text-left"}}">
            <a class="
                rounded
                border
                border-purple-300
                px-2
                py-1
                text-purple-600
                font-bold
                hover:bg-purple-100
                hover:text-purple-600
                hover:no-underline" href="{{this.block.callToActionLink}}">
              {{this.block.callToActionText}}
            </a>
          </div>
        {{/if}}
      </div>
    </div>

    {{#if this.block.supportingTextSections}}
      <div class="md:flex md:flex-wrap md:justify-center mb-1 {{unless this.block.mainImage "mt-4"}}">
        {{#each this.block.supportingTextSections as |supportingText|}}

          <div class="mb-3 {{concat "px-2 md:w-1/" this.numSupportingTextColumns}}">
            {{#if supportingText.supportingContentImageIcon.file.url}}
              <div class="content-block-supporting-image">
                <ContentfulImage @file={{supportingText.supportingContentImageIcon.file}} />
              </div>
            {{/if}}

            {{#if supportingText.header}}
              <div class="font-semibold text-xl content-block-supporting-text-header">
                {{supportingText.header}}
              </div>
            {{/if}}

            {{#if supportingText.bodyText}}
              <div class="content-block-supporting-text-body">
                <MarkdownToHtml @markdown={{supportingText.bodyText}} />
              </div>
            {{/if}}
          </div>
        {{/each}}
      </div>
    {{/if}}

    {{#if (and this.block.isFullCTAPresent (not (is-empty this.block.supportingTextSections)))}}
      <div class="content-block-cta text-center {{if this.block.isImagePresent "lg:text-left"}}">
        <a class="inline-block rounded border border-purple-300 px-2 py-1 text-purple-600 font-bold hover:bg-purple-100 hover:text-purple-600 hover:no-underline" href="{{this.block.callToActionLink}}">
          {{this.block.callToActionText}}
        </a>
      </div>
    {{/if}}

  </div>
</section>
